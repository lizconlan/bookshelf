<html>
  <head>
    <meta charset="utf-8" />
    <title><%= @books.length %> books</title>
    <link href="assets/style.css" rel="stylesheet">
    <script src="assets/script/stimulus.umd.js"></script>
    <script src="assets/script/application.js"></script>
  </head>
  <body data-controller="sort">
    <header>
      <p>Generated with <a href="https://github.com/lizconlan/bookshelf">github.com/lizconlan/<strong>bookshelf</strong></a> on <time><%= Time.now.asctime %></time>.</p>
      <nav data-controller="start">
        <div class="row">
          <div>
            <div id="filters">
              <form data-controller="filter">
                <label for="pubfilter">Filter by publisher</label><br>
                <select id="pubfilter" class="pubfilter" data-action="filter#filter">
                  <option>Show All</option><% @publishers.each do |pub| %>
                  <option><%= pub == "" ? Bookshelf::SELFPUB_NAME : pub %></option><% end %>
                </select>
              </form>
            </div>
            <div id="sort">
              <a id="pub_sort" href="#" data-action="sort#publisher_sort">Sort by Publisher</a>
              <a id="title_sort" href="#" data-action="sort#title_sort">Sort by Title</a>
            </div>
          </div>
          <div id="search" data-controller="search">
            <form id="book_search" data-action="search#search_books">
              <label for="search_box">Search</label><br>
              <input id="search_box" type="textbox" data-target="search.term">
              <button type="submit" id="search_button">Search</button>
            </form>
          </div>
        </div>
        <div id="nav_info"></div>
      </nav>
    </header>
    <br><br>
    <h1 class="fallback">&nbsp;&nbsp;Bookshelf</h1>
    <section id="books">
<%= @html.join("\n") %>
    </section>
    <div id="fade" data-controller="notbook" data-action="click->notbook#close_books"></div>
  </body>
</html>
